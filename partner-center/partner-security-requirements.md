---
title: Requisitos de seguridad para partners | Centro de partners
ms.topic: article
ms.date: 09/25/2019
description: Obtén información acerca los requisitos de seguridad para los asesores y partners que participan en el programa Proveedor de soluciones en la nube.
author: isaiahwilliams
ms.author: iswillia
keywords: Azure Active Directory, Cloud Solution Provider, Cloud Solution Provider program, CSP, Control Panel Vendor, CPV, multi-factor authentication, MFA, secure application model, secure app model, security
ms.localizationpriority: high
ms.openlocfilehash: ea155cf760850def85146d8c4e7e847fab5d7213
ms.sourcegitcommit: 0195355f4526362f4d89f59ea643a5e422b6a9b2
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/27/2019
ms.locfileid: "71318486"
---
# <a name="partner-security-requirements"></a><span data-ttu-id="c4c67-104">Requisitos de seguridad para partners</span><span class="sxs-lookup"><span data-stu-id="c4c67-104">Partner Security Requirements</span></span>

<span data-ttu-id="c4c67-105">**Se aplica a**</span><span class="sxs-lookup"><span data-stu-id="c4c67-105">**Applies to**</span></span>

- <span data-ttu-id="c4c67-106">Todos los partners que estén en el programa Proveedor de soluciones en la nube</span><span class="sxs-lookup"><span data-stu-id="c4c67-106">All partners in the Cloud Solution Provider program</span></span>
  - <span data-ttu-id="c4c67-107">Factura directa</span><span class="sxs-lookup"><span data-stu-id="c4c67-107">Direct bill</span></span>
  - <span data-ttu-id="c4c67-108">Proveedor indirecto</span><span class="sxs-lookup"><span data-stu-id="c4c67-108">Indirect provider</span></span>
  - <span data-ttu-id="c4c67-109">Revendedor indirecto</span><span class="sxs-lookup"><span data-stu-id="c4c67-109">Indirect reseller</span></span>
- <span data-ttu-id="c4c67-110">Todos los proveedores de panel de control</span><span class="sxs-lookup"><span data-stu-id="c4c67-110">All Control Panel Vendors</span></span>
- <span data-ttu-id="c4c67-111">Todos los asesores</span><span class="sxs-lookup"><span data-stu-id="c4c67-111">All Advisors</span></span>

<span data-ttu-id="c4c67-112">Una mayor seguridad y protección de la privacidad se encuentran entre nuestras principales prioridades.</span><span class="sxs-lookup"><span data-stu-id="c4c67-112">Greater privacy safeguards and security are among our top priorities.</span></span> <span data-ttu-id="c4c67-113">Sabemos que la mejor defensa es la prevención y que somos tan seguros como lo sea nuestro vínculo más débil.</span><span class="sxs-lookup"><span data-stu-id="c4c67-113">We know that the best defense is prevention and that we are only as strong as our weakest link.</span></span> <span data-ttu-id="c4c67-114">Esta es la razón por la que necesitamos que todos los usuarios de nuestro ecosistema actúen y se aseguren de que tienen las protecciones de seguridad adecuadas.</span><span class="sxs-lookup"><span data-stu-id="c4c67-114">That is why we need everyone in our ecosystem to act and ensure they have appropriate security protections in place.</span></span> <span data-ttu-id="c4c67-115">Para ayudar a proteger a los partners y clientes, presentamos un conjunto de requisitos de seguridad obligatorios para los asesores, proveedores de panel de control y asociados que participen en el programa Proveedor de soluciones en la nube.</span><span class="sxs-lookup"><span data-stu-id="c4c67-115">To help safeguard partners and customers, we’re introducing a set of mandatory security requirements for Advisors, Control Panel Vendors, and partners participating in the Cloud Solution Provider program.</span></span>

<span data-ttu-id="c4c67-116">A partir del 1 de agosto de 2019 todos los partners tienen la obligación de aplicar la autenticación multifactor a todos los usuarios, incluidas las cuentas de servicio, en su inquilino del partner.</span><span class="sxs-lookup"><span data-stu-id="c4c67-116">Starting August 1, 2019 all partners are required to enforce multi-factor authentication for all users, including service accounts, in their partner tenant.</span></span>

> [!NOTE]
> <span data-ttu-id="c4c67-117">Se recomienda encarecidamente a todos los partners que realicen transacciones a través de una nube soberana (21Vianet, gobierno de EE. UU. y Alemania) adopten estos nuevos requisitos de seguridad de inmediato.</span><span class="sxs-lookup"><span data-stu-id="c4c67-117">We strongly recommend that all partners transacting through a sovereign cloud (21Vianet, US Government, and Germany) act and adopt these new security requirements immediately.</span></span> <span data-ttu-id="c4c67-118">Sin embargo, no es preciso que estos partners cumplan los nuevos requisitos de seguridad que entran en vigor el 1 de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="c4c67-118">However, these partners are not required to meet the new security requirements effective August 1, 2019.</span></span> <span data-ttu-id="c4c67-119">En el futuro, Microsoft proporcionará más información acerca de la aplicación de estos requisitos de seguridad para las nubes soberanas.</span><span class="sxs-lookup"><span data-stu-id="c4c67-119">Microsoft will provide additional details regarding the enforcement of these security requirements for sovereign clouds in the future.</span></span>

<span data-ttu-id="c4c67-120">Los términos asociados a los requisitos de seguridad para partners se han agregado a la [guía del programa Proveedor de soluciones en la nube](https://go.microsoft.com/fwlink/p/?LinkId=617100).</span><span class="sxs-lookup"><span data-stu-id="c4c67-120">The terms associated with the partner security requirements have been added to the [Cloud Solution Provider program guide](https://go.microsoft.com/fwlink/p/?LinkId=617100).</span></span> <span data-ttu-id="c4c67-121">A partir del 1 de agosto de 2019, todos los partners que participen en el programa Proveedor de soluciones en la nube deben cumplir los términos y condiciones.</span><span class="sxs-lookup"><span data-stu-id="c4c67-121">Starting on August 1, 2019 all partners participating in the Cloud Solution Provider program should be in compliance with the terms.</span></span> <span data-ttu-id="c4c67-122">En lo que se refiere a los asesores, se aplicarán los mismos requisitos contractuales.</span><span class="sxs-lookup"><span data-stu-id="c4c67-122">As it relates to Advisors the same contractual requirements will be in place.</span></span>

<span data-ttu-id="c4c67-123">Los partners que no implementen los requisitos de seguridad obligatorios no podrán realizar transacciones en el programa Proveedor de soluciones en la nube ni administrar los inquilinos del cliente que aprovechen los derechos de administrador delegado, una vez que se apliquen estos requisitos.</span><span class="sxs-lookup"><span data-stu-id="c4c67-123">Partners who do not implement the mandatory security requirements will not be able to transact in the Cloud Solution Provider program or manage customer tenants leveraging delegate admin rights, once these requirements are enforced.</span></span> <span data-ttu-id="c4c67-124">Estamos en el proceso de establecer una fecha de aplicación técnica de los requisitos y se la notificaremos a los partners con información detallada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-124">We are in the process of establishing a technical enforcement date for the requirements and will notify partners of the date with detailed information.</span></span>

## <a name="what-actions-do-i-need-to-take"></a><span data-ttu-id="c4c67-125">¿Qué acciones necesito realizar?</span><span class="sxs-lookup"><span data-stu-id="c4c67-125">What actions do I need to take?</span></span>

<span data-ttu-id="c4c67-126">Dada la naturaleza de los partners, que tienen privilegios elevados, necesitamos asegurarnos de que cada usuario tenga que usar la MFA en todas y cada una de las autenticaciones.</span><span class="sxs-lookup"><span data-stu-id="c4c67-126">Given the highly privileged nature of being a partner we need to ensure that each user has an MFA challenge for every single authentication.</span></span> <span data-ttu-id="c4c67-127">Esto se puede realizar de cualquiera de estas maneras:</span><span class="sxs-lookup"><span data-stu-id="c4c67-127">This can be accomplished through one of the following ways</span></span>

- <span data-ttu-id="c4c67-128">Mediante la implementación de Azure AD Premium y asegurándose de que se aplica MFA a todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="c4c67-128">Implementing Azure AD Premium and ensure that MFA is enforced for each user</span></span>
- <span data-ttu-id="c4c67-129">Mediante la implementación de las [directivas de protección de línea de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection).</span><span class="sxs-lookup"><span data-stu-id="c4c67-129">Implementing the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection)</span></span>
- <span data-ttu-id="c4c67-130">Mediante la implementación de una solución de terceros y asegurándose de que se aplica MFA a todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="c4c67-130">Implementing a third-party solution and ensure MFA is enforced for each user</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c4c67-131">Una vez que estos requisitos se aplican técnicamente, todas y cada una de las autenticaciones deben tener un desafío de MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-131">Once these requirements are technically enforced every single authentication must have an MFA challenge.</span></span> <span data-ttu-id="c4c67-132">No se podrá usar ninguna característica del acceso condicional para evitar la autenticación mediante MFA al acceder a los servicios en la nube comercial de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c4c67-132">You will not be able to use any feature of conditional access to avoid authenticating using MFA when access Microsoft commercial cloud services.</span></span>

### <a name="considerations"></a><span data-ttu-id="c4c67-133">Consideraciones</span><span class="sxs-lookup"><span data-stu-id="c4c67-133">Considerations</span></span>

<span data-ttu-id="c4c67-134">Dado que estos requisitos se aplican a todos los usuarios, incluidas las cuentas de servicio, del inquilino del partner deben hacerse varias consideraciones para garantizar que la implementación se realiza sin problemas.</span><span class="sxs-lookup"><span data-stu-id="c4c67-134">Because these requirements apply to all users, including service accounts, in your partner tenant, there are several considerations that need to be made to ensure a smooth deployment.</span></span> <span data-ttu-id="c4c67-135">Entre estas consideraciones se incluye la identificación en Azure AD de los usuarios que no pueden realizar MFA, así como de las aplicaciones y los dispositivos usados por una organización que no admiten la autenticación moderna.</span><span class="sxs-lookup"><span data-stu-id="c4c67-135">These considerations include identifying users in Azure AD that cannot perform MFA, as well as applications and devices used by your organization that do not support modern authentication.</span></span>

<span data-ttu-id="c4c67-136">Antes de realizar cualquier acción, es aconsejable identificar los siguientes factores</span><span class="sxs-lookup"><span data-stu-id="c4c67-136">Prior to performing any action, it is recommended that you identify the following</span></span>

#### <a name="do-you-have-an-application-or-device-that-does-not-support-the-use-of-mfa-when-authenticating"></a><span data-ttu-id="c4c67-137">¿Hay alguna una aplicación o un dispositivo que no admita el uso de MFA al autenticarse?</span><span class="sxs-lookup"><span data-stu-id="c4c67-137">Do you have an application or device that does not support the use of MFA when authenticating?</span></span>

<span data-ttu-id="c4c67-138">Cuando se aplique la autenticación heredada de MFA, se bloqueará el uso de protocolos como IMAP, POP3, SMTP, etc., ya que no admiten MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-138">When you enforce MFA legacy authentication use protocols such as IMAP, POP3, SMTP, etc. will be blocked because these protocols do not support MFA.</span></span> <span data-ttu-id="c4c67-139">Para solucionar esta limitación, se puede usar una característica conocida como [contraseñas de aplicación](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#app-passwords) para asegurarse de que la aplicación o el dispositivo se pueden autenticar.</span><span class="sxs-lookup"><span data-stu-id="c4c67-139">To address this limitation a feature known as [app passwords](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#app-passwords) can be used to ensure the application or device can still authenticate.</span></span> <span data-ttu-id="c4c67-140">Debes examinar las consideraciones acerca del uso de contraseñas, que están documentadas [aquí](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#considerations-about-app-passwords), aquí para determinar si se pueden usar en su entorno.</span><span class="sxs-lookup"><span data-stu-id="c4c67-140">You should review the considerations for using app passwords documented [here](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#considerations-about-app-passwords) to determine if they can be used in your environment.</span></span>

#### <a name="do-you-have-users-using-office-365-provided-by-licenses-associated-with-your-partner-tenant"></a><span data-ttu-id="c4c67-141">¿Hay usuarios que usen Office 365 proporcionados por licencias asociadas a tu inquilino del partner?</span><span class="sxs-lookup"><span data-stu-id="c4c67-141">Do you have users using Office 365 provided by licenses associated with your partner tenant?</span></span>

<span data-ttu-id="c4c67-142">Antes de implementar cualquier solución, es aconsejable determinar qué versión de Microsoft Office utilizan los usuarios de tu inquilino del partner.</span><span class="sxs-lookup"><span data-stu-id="c4c67-142">Prior to implementing any solution, it is recommended that you determine why version of Microsoft Office is being used by users in your partner tenant.</span></span> <span data-ttu-id="c4c67-143">Examina el [plan para realizar la autenticación multifactor en implementaciones de Office 365](https://docs.microsoft.com/office365/admin/security-and-compliance/multi-factor-authentication-plan#enable-mfa) antes de realizar cualquier acción.</span><span class="sxs-lookup"><span data-stu-id="c4c67-143">Review [plan for multi-factor authentication for Office 365 Deployments](https://docs.microsoft.com/office365/admin/security-and-compliance/multi-factor-authentication-plan#enable-mfa) before taking any action.</span></span> <span data-ttu-id="c4c67-144">Existe la posibilidad de que los usuarios tengan problemas de conectividad con aplicaciones como Outlook.</span><span class="sxs-lookup"><span data-stu-id="c4c67-144">There is a chance your users will experience connectivity issues with applications like Outlook.</span></span> <span data-ttu-id="c4c67-145">Antes de aplicar la autenticación multifactor, es importante asegurarse de que se usa Outlook 2013 SP1, o cualquier versión posterior, y que la organización tiene habilitada la autenticación moderna.</span><span class="sxs-lookup"><span data-stu-id="c4c67-145">Before enforcing MFA, it important to ensure that Outlook 2013 SP1, or later, is being used and that your organization has modern authentication enabled.</span></span> <span data-ttu-id="c4c67-146">Para más información, consulta [Habilitar la autenticación moderna en Exchange Online](https://docs.microsoft.com/exchange/clients-and-mobile-in-exchange-online/enable-or-disable-modern-authentication-in-exchange-online).</span><span class="sxs-lookup"><span data-stu-id="c4c67-146">See [Enable modern authentication in Exchange Online](https://docs.microsoft.com/exchange/clients-and-mobile-in-exchange-online/enable-or-disable-modern-authentication-in-exchange-online) for more information.</span></span>

<span data-ttu-id="c4c67-147">Para habilitar la autenticación moderna en cualquier dispositivo con Windows que tenga Microsoft Office 2013 instalado, es preciso crear dos claves del Registro.</span><span class="sxs-lookup"><span data-stu-id="c4c67-147">To enable modern authentication for any devices running Windows, that have Microsoft Office 2013 installed, you will need to create two registry keys.</span></span> <span data-ttu-id="c4c67-148">Consulta [Habilitar autenticación moderna para Office 2013 en dispositivos Windows](https://docs.microsoft.com/office365/admin/security-and-compliance/enable-modern-authentication).</span><span class="sxs-lookup"><span data-stu-id="c4c67-148">See [Enable Modern Authentication for Office 2013 on Windows devices](https://docs.microsoft.com/office365/admin/security-and-compliance/enable-modern-authentication).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c4c67-149">Si has habilitado a los usuarios para Azure AD MFA y tienen dispositivos en los que se ejecuta Office 2013 que no están habilitados para la autenticación moderna, deberán usar contraseñas de aplicaciones en esos dispositivos.</span><span class="sxs-lookup"><span data-stu-id="c4c67-149">If you have enabled your users for Azure AD MFA and they have any devices running Office 2013 that are not enabled for modern authentication, they will need to use App Passwords on those devices.</span></span> <span data-ttu-id="c4c67-150">Aquí se puede encontrar más información acerca de las contraseñas de aplicaciones y cuándo, dónde y cómo se deben usar: [Contraseñas de aplicaciones con Azure Multi-Factor Authentication](https://go.microsoft.com/fwlink/p/?LinkId=528178).</span><span class="sxs-lookup"><span data-stu-id="c4c67-150">More information on App Passwords and when/where/how they should be used can be found here: [App Passwords with Azure Multi-Factor Authentication](https://go.microsoft.com/fwlink/p/?LinkId=528178).</span></span>

#### <a name="is-there-a-policy-preventing-any-of-your-users-from-using-their-mobile-devices-while-working"></a><span data-ttu-id="c4c67-151">¿Hay alguna directiva que impida que los usuarios usen sus dispositivos móviles mientras trabajan?</span><span class="sxs-lookup"><span data-stu-id="c4c67-151">Is there a policy preventing any of your users from using their mobile devices while working?</span></span>

<span data-ttu-id="c4c67-152">Es importante identificar las directivas corporativas que impiden que los empleados usen dispositivos móviles mientras trabajan, ya que esto influirá en la solución MFA que implementes.</span><span class="sxs-lookup"><span data-stu-id="c4c67-152">It is important to identify any corporate policy that prevents employees from using mobile devices while working because it will influence what MFA solution you implement.</span></span> <span data-ttu-id="c4c67-153">Hay soluciones MFA, como la que se proporciona a través de la implementación de las [directivas de protección de línea de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection), que solo permiten el uso de una aplicación de autenticación para la comprobación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-153">There are MFA solutions, such as the one provided through the implementation of the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection), that only allow the use of an authenticator app for verification.</span></span> <span data-ttu-id="c4c67-154">Si la organización tiene una directiva que impide el uso de dispositivos móviles, debes tener en cuenta una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="c4c67-154">In the event your organization has a policy that prevent the use of mobile devices, then you should consider one of the following options</span></span>

- <span data-ttu-id="c4c67-155">Implementar una aplicación de contraseñas de un solo uso y duración definida (TOTP) que se pueda ejecutar en un sistema seguro.</span><span class="sxs-lookup"><span data-stu-id="c4c67-155">Deploy a time-based one-time base password (TOTP) application that can run on secure system</span></span>
- <span data-ttu-id="c4c67-156">Implementar una solución de terceros que aplique MFA a todos los usuarios del inquilino del partner que proporcione la opción de comprobación más adecuada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-156">Implement a third-party solution that enforces MFA for each user in the partner tenant that provides the most appropriate verification option</span></span>
- <span data-ttu-id="c4c67-157">Comprar licencias de [Azure AD Premium](https://azure.microsoft.com/pricing/details/active-directory/) para los usuarios afectados.</span><span class="sxs-lookup"><span data-stu-id="c4c67-157">Purchasing [Azure AD Premium](https://azure.microsoft.com/pricing/details/active-directory/) licenses for the impacted users</span></span>

<span data-ttu-id="c4c67-158">La compatibilidad con el uso de las claves de seguridad de FIDO se encuentra en el plan de desarrollo de las directivas de protección de línea de base.</span><span class="sxs-lookup"><span data-stu-id="c4c67-158">Support for the use of FIDO security keys is on the road map for the baseline protection policies.</span></span> <span data-ttu-id="c4c67-159">Una vez agregada la compatibilidad, podrá aprovechar las claves de seguridad de FIDO para el segundo factor de autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-159">Once support has been added, you will be able to leverage FIDO security keys for the second factor of authentication.</span></span> <span data-ttu-id="c4c67-160">Hasta entonces, está limitado al uso de la aplicación de autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-160">Until then you are limited to the use of the Authenticator App.</span></span>

#### <a name="what-automation-or-integration-do-you-have-that-leverages-user-credentials-for-authentication"></a><span data-ttu-id="c4c67-161">¿Qué automatización o integración tienes que aproveche las credenciales de usuario para la autenticación?</span><span class="sxs-lookup"><span data-stu-id="c4c67-161">What automation or integration do you have that leverages user credentials for authentication?</span></span>

<span data-ttu-id="c4c67-162">Como el requisito es aplicar MFA a todos los usuarios, incluidas las cuentas de servicio, del directorio de partners cualquier automatización o integración que aproveche las credenciales de usuario para la autenticación se verá afectada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-162">Since the requirement is to enforce MFA for each user, including service accounts, in your partner directory any automation or integration that leverages user credentials for authentication will be impacted.</span></span> <span data-ttu-id="c4c67-163">Por tanto, es importante identificar qué cuentas se usan en estas situaciones.</span><span class="sxs-lookup"><span data-stu-id="c4c67-163">So, it important that you identify what accounts are being used in these situations.</span></span> <span data-ttu-id="c4c67-164">A continuación se muestra una lista de ejemplos de aplicaciones o servicios que se deben tener en cuenta</span><span class="sxs-lookup"><span data-stu-id="c4c67-164">The following is a list of examples of applications or services that should be considered</span></span>

- <span data-ttu-id="c4c67-165">Panel de control que se usa usado para aprovisionar recursos en nombre de los clientes</span><span class="sxs-lookup"><span data-stu-id="c4c67-165">Control panel used to provision resources on behalf of your customers</span></span>
- <span data-ttu-id="c4c67-166">Integración con todas las plataformas que se utilicen para la facturación (en relación con el programa CSP) y soporte técnico a los clientes</span><span class="sxs-lookup"><span data-stu-id="c4c67-166">Integration with any platform that is used for invoicing (as it relates to the CSP program) and supporting your customers</span></span>
- <span data-ttu-id="c4c67-167">Scripts de PowerShell que usan los módulos Az, AzureRM, Azure AD, MS Online, etc.</span><span class="sxs-lookup"><span data-stu-id="c4c67-167">PowerShell scripts that utilize the Az, AzureRM, Azure AD, MS Online, etc. modules</span></span>

<span data-ttu-id="c4c67-168">La lista anterior no es completa.</span><span class="sxs-lookup"><span data-stu-id="c4c67-168">The above list is not comprehensive.</span></span> <span data-ttu-id="c4c67-169">Por tanto, es importante que realices una evaluación completa de cualquier aplicación o servicio de tu entorno que aproveche las credenciales de usuario para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-169">So, it important that you perform a complete assessment of any application or service in your environment that leverages user credentials for authentication.</span></span> <span data-ttu-id="c4c67-170">Para enfrentarse al requisito de MFA, debes implementar las instrucciones del [marco de modelo de aplicaciones seguras](https://docs.microsoft.com/partner-center/develop/enable-secure-app-model) siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="c4c67-170">To contend with the requirement for MFA, you should implement the guidance in the [Secure Application Model framework](https://docs.microsoft.com/partner-center/develop/enable-secure-app-model) where possible.</span></span> <span data-ttu-id="c4c67-171">Los siguientes son recursos adicionales que te ayudarán a saber cómo se puede implementar el marco de modelo de aplicaciones seguras</span><span class="sxs-lookup"><span data-stu-id="c4c67-171">The following are additional resources that will help you understand how the Secure Application Model framework can be implemented</span></span>

- <span data-ttu-id="c4c67-172">[Ejemplos de .NET del Centro de partners](https://github.com/microsoft/partner-center-dotnet-samples): este repositorio de GitHub contiene ejemplos que se han desarrollados mediante .NET y que muestran cómo se puede implementar el marco de modelo de aplicaciones seguras.</span><span class="sxs-lookup"><span data-stu-id="c4c67-172">[Partner Center .NET Samples](https://github.com/microsoft/partner-center-dotnet-samples) - This GitHub repository contains samples, developed using .NET, that will demonstrate how you can implement the Secure Application Model framework.</span></span>
- <span data-ttu-id="c4c67-173">[Ejemplos de Java del Centro de partners](https://github.com/microsoft/partner-center-java-samples): este repositorio de GitHub contiene ejemplos que se han desarrollados mediante Java y que muestran cómo se puede implementar el marco de modelo de aplicaciones seguras.</span><span class="sxs-lookup"><span data-stu-id="c4c67-173">[Partner Center Java Samples](https://github.com/microsoft/partner-center-java-samples) - This GitHub repository contains samples, developed using Java, that will demonstrate how you can implement the Secure Application Model framework.</span></span>
- <span data-ttu-id="c4c67-174">[Partner Center PowerShell (modelo de aplicaciones seguras)](https://docs.microsoft.com/powershell/partnercenter/secure-app-model): en este artículo se proporcionan datos acerca de cómo implementar el marco de modelo de aplicaciones seguras mediante PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c4c67-174">[Partner Center PowerShell - Secure Application Model](https://docs.microsoft.com/powershell/partnercenter/secure-app-model) - This is an article that provides details on how to implement the Secure Application Model framework using PowerShell.</span></span>
- <span data-ttu-id="c4c67-175">[Comunidad del grupo de instrucciones de seguridad del Centro de partners](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance): esta es una comunidad en línea en la que no solo puedes obtener información acerca de los próximos eventos, sino también realizar todas las preguntas que puedas tener.</span><span class="sxs-lookup"><span data-stu-id="c4c67-175">[Partner Center Security Guidance Group community](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) - This is online community where you can learn about upcoming events and ask any questions that you might have.</span></span>

### <a name="enforcing-mfa-for-all-users"></a><span data-ttu-id="c4c67-176">Aplicación de MFA a todos los usuarios</span><span class="sxs-lookup"><span data-stu-id="c4c67-176">Enforcing MFA for all users</span></span>

<span data-ttu-id="c4c67-177">En esta sección se explica cómo usar las [directivas de protección de línea de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection) para aplicar MFA a todos los usuarios, incluidas las cuentas de servicio, del inquilino del partner.</span><span class="sxs-lookup"><span data-stu-id="c4c67-177">This section will cover how you can use the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection) to enforce MFA for each user, including service accounts, in your partner tenant.</span></span> <span data-ttu-id="c4c67-178">Si planeas usar Azure AD Premium, siga los pasos que se documentan [aquí](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-getstarted).</span><span class="sxs-lookup"><span data-stu-id="c4c67-178">If you are planning to use Azure AD Premium, then follow the steps documented [here](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-getstarted).</span></span>

> [!NOTE]
> <span data-ttu-id="c4c67-179">Se puede usar una solución de terceros, que sea compatible con Azure AD, para aplicar MFA a todos los usuarios, incluidas las cuentas de servicio.</span><span class="sxs-lookup"><span data-stu-id="c4c67-179">A third-party solution, that is compatible with Azure AD, can be used to enforce MFA for all users, including, service accounts.</span></span> <span data-ttu-id="c4c67-180">Para obtener más detalles acerca de cómo se debe implementar la solución, consulta la documentación del proveedor.</span><span class="sxs-lookup"><span data-stu-id="c4c67-180">Refer to the documentation from the vendor for more details on how the solution should be implemented.</span></span>

<span data-ttu-id="c4c67-181">Las directivas de protección de línea de base son un conjunto de directivas predefinidas que ayudan a proteger las organizaciones frente a muchos ataques comunes.</span><span class="sxs-lookup"><span data-stu-id="c4c67-181">Baseline protection policies are a set of predefined policies that help protect organizations against many common attacks.</span></span> <span data-ttu-id="c4c67-182">Estos ataques comunes pueden incluir la difusión de contraseña, la reinyección y la suplantación de identidad.</span><span class="sxs-lookup"><span data-stu-id="c4c67-182">These common attacks can include password spray, replay, and phishing.</span></span> <span data-ttu-id="c4c67-183">Las directivas de protección de línea de base están disponibles en todas las ediciones de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c4c67-183">Baseline protection policies are available in all editions of Azure Active Directory.</span></span> <span data-ttu-id="c4c67-184">Microsoft está poniendo estas directivas de protección de línea de base a disposición de todo el mundo, con el fin de que tanto los clientes como los partners puedan implementar las mejores prácticas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c4c67-184">Microsoft is making these baseline protection policies available to everyone to further enable customers and partners to implement best-in-class security practices.</span></span>

<span data-ttu-id="c4c67-185">Las dos directivas de protección de línea de base que deben habilitarse se describen en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="c4c67-185">The two baseline protection policies that should be enabled are described in the table below.</span></span>

|<span data-ttu-id="c4c67-186">**Directiva**</span><span class="sxs-lookup"><span data-stu-id="c4c67-186">**Policy**</span></span>| |
|-----|-----|
|<span data-ttu-id="c4c67-187">**Require MFA for admins** (Requerir MFA a los administradores)</span><span class="sxs-lookup"><span data-stu-id="c4c67-187">**Require MFA for admins**</span></span>|<span data-ttu-id="c4c67-188">La habilitación de la directiva Require MFA for admins (Requerir MFA a los administradores) requiere que los usuarios que tengan roles de administrador se registren en MFA mediante la aplicación de autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-188">Enabling the Require MFA for admins policy, will require users in the administrator roles to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="c4c67-189">Una vez que se complete el registro de MFA, los administradores deberán realizar la autenticación multifactor cada vez que inicien sesión.</span><span class="sxs-lookup"><span data-stu-id="c4c67-189">Once MFA registration is complete, administrators will need to perform MFA every time they sign-in.</span></span>|
|<span data-ttu-id="c4c67-190">**End user protection** (Protección del usuario final)</span><span class="sxs-lookup"><span data-stu-id="c4c67-190">**End user protection**</span></span>|<span data-ttu-id="c4c67-191">End user protection (Protección del usuario final) es una directiva de protección de base de MFA basada en el riesgo que protege a todos los usuarios de un directorio.</span><span class="sxs-lookup"><span data-stu-id="c4c67-191">End user protection is a risk-based MFA baseline protection policy that protects all users in a directory.</span></span> <span data-ttu-id="c4c67-192">La habilitación de esta directiva requiere que todos los usuarios se registren para MFA mediante la aplicación de autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-192">Enabling this policy requires all users to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="c4c67-193">Los usuarios pueden hacer caso omiso la solicitud de registro en MFA durante 14 días, pero tras ese periodo se les impedirá iniciar sesión hasta que se registren en MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-193">Users can ignore the MFA registration prompt for 14 days, after which they will be blocked from signing in until they register for MFA.</span></span> <span data-ttu-id="c4c67-194">Una vez que se hayan registrado, solo se solicitará a los usuarios la autenticación multifactor en los intentos de inicio de sesión peligrosos.</span><span class="sxs-lookup"><span data-stu-id="c4c67-194">Once registered for MFA, users will be prompted for MFA only during risky sign-in attempts.</span></span> <span data-ttu-id="c4c67-195">Las cuentas de usuario en peligro se bloquean hasta que se restablece su contraseña y han desaparecido los eventos de riesgo.</span><span class="sxs-lookup"><span data-stu-id="c4c67-195">Compromised user accounts are blocked until their password is reset and risk events have been dismissed.</span></span>|

<span data-ttu-id="c4c67-196">Cuando estas directivas están habilitadas, todos los usuarios podrán usar Azure MFA mediante la aplicación de autenticación para realizar la comprobación sin costo adicional.</span><span class="sxs-lookup"><span data-stu-id="c4c67-196">When these policies are enabled, each user will be able to utilize Azure MFA using the Authenticator App for verification at no additional cost.</span></span>

#### <a name="configure-self-service-password-reset"></a><span data-ttu-id="c4c67-197">Configuración del autoservicio de restablecimiento de contraseña</span><span class="sxs-lookup"><span data-stu-id="c4c67-197">Configure Self Service Password Reset</span></span>

<span data-ttu-id="c4c67-198">El autoservicio de restablecimiento de contraseña (SSPR) es una característica Azure Active Directory que permite a los usuarios restablecer sus contraseñas sin necesidad de ponerse en contacto con el equipo de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="c4c67-198">Self-service password reset (SSPR) is an Azure Active Directory feature that enables users to reset their passwords without needing to contact their support team.</span></span> <span data-ttu-id="c4c67-199">Para poder usar el servicio, los usuarios deben registrarse, o estar registrados, en el autoservicio de restablecimiento de contraseña.</span><span class="sxs-lookup"><span data-stu-id="c4c67-199">Users must register for or be registered for self-service password reset before using the service.</span></span> <span data-ttu-id="c4c67-200">Durante el registro, el usuario elige uno o varios métodos de autenticación que ha habilitado su organización.</span><span class="sxs-lookup"><span data-stu-id="c4c67-200">During registration, the user chooses one or more authentication methods enabled by their organization.</span></span>

<span data-ttu-id="c4c67-201">Cuando la directiva de protección de línea de base [End user protection](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-baseline-protect-end-users) (Protección del usuario final) está habilitada, todas las cuentas de usuario que corran peligro se bloquearán hasta que se restablezca su contraseña y hayan descartado los eventos de riesgo.</span><span class="sxs-lookup"><span data-stu-id="c4c67-201">When the [End user protection](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-baseline-protect-end-users) baseline protection policy is enabled, any compromised user accounts will be blocked until their password is reset and the risk events have been dismissed.</span></span> <span data-ttu-id="c4c67-202">Teniendo esto en cuenta, se recomienda que cada usuario, que sea administrador global, realice las siguientes acciones para registrarse en SSPR, para quedarse bloqueado.</span><span class="sxs-lookup"><span data-stu-id="c4c67-202">Considering this it is recommended that each user, who is a global admin, perform the following to register for SSPR so they do not get locked out.</span></span>

1. <span data-ttu-id="c4c67-203">Vete a la [página de configuración de SSPR](https://aka.ms/ssprsetup).</span><span class="sxs-lookup"><span data-stu-id="c4c67-203">Browse to the [SSPR setup page](https://aka.ms/ssprsetup)</span></span>
2. <span data-ttu-id="c4c67-204">Escribe tu nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="c4c67-204">Enter your username and password</span></span>
3. <span data-ttu-id="c4c67-205">Configura al menos una de las opciones que se usarán para comprobar tu identidad al restablecer la contraseña.</span><span class="sxs-lookup"><span data-stu-id="c4c67-205">Configure at least one of the verifications options that will be used to verify who you are when resetting your password.</span></span>  

<span data-ttu-id="c4c67-206">Cuando una cuenta haya estado en peligro, el administrador deberá tomar las medidas necesarias para restaurar el acceso del usuario afectado.</span><span class="sxs-lookup"><span data-stu-id="c4c67-206">When an account has been compromised an administrator will need to take action to restore access for the impacted user.</span></span> <span data-ttu-id="c4c67-207">Para obtener más detalles acerca del proceso de desbloqueo de un usuario, consulta los [pasos necesarios para desbloquear a un usuario](#recovering-compromised-accounts).</span><span class="sxs-lookup"><span data-stu-id="c4c67-207">See the [steps to unblock a user](#recovering-compromised-accounts) for details on the process to unblock the user.</span></span>

#### <a name="require-mfa-for-admins"></a><span data-ttu-id="c4c67-208">Require MFA for admins (Requerir MFA a los administradores)</span><span class="sxs-lookup"><span data-stu-id="c4c67-208">Require MFA for admins</span></span>

<span data-ttu-id="c4c67-209">La directiva de línea de base*Require MFA for admins* (Requerir MFA a los administradores) requiere MFA para los siguientes roles de directorio, que se consideran los roles Azure Active Directory con más privilegios:</span><span class="sxs-lookup"><span data-stu-id="c4c67-209">The *Require MFA for admin* baseline policy requires MFA for the following directory roles, considered to be the most privileged Azure Active Directory roles:</span></span>

- <span data-ttu-id="c4c67-210">Administrador global</span><span class="sxs-lookup"><span data-stu-id="c4c67-210">Global administrator</span></span>
- <span data-ttu-id="c4c67-211">Administrador de SharePoint</span><span class="sxs-lookup"><span data-stu-id="c4c67-211">SharePoint administrator</span></span>
- <span data-ttu-id="c4c67-212">Administrador de Exchange</span><span class="sxs-lookup"><span data-stu-id="c4c67-212">Exchange administrator</span></span>
- <span data-ttu-id="c4c67-213">Administrador de acceso condicional</span><span class="sxs-lookup"><span data-stu-id="c4c67-213">Conditional access administrator</span></span>
- <span data-ttu-id="c4c67-214">Administrador de seguridad</span><span class="sxs-lookup"><span data-stu-id="c4c67-214">Security administrator</span></span>
- <span data-ttu-id="c4c67-215">Administrador de soporte técnico/administrador de contraseñas</span><span class="sxs-lookup"><span data-stu-id="c4c67-215">Helpdesk administrator / Password administrator</span></span>
- <span data-ttu-id="c4c67-216">Administrador de facturación</span><span class="sxs-lookup"><span data-stu-id="c4c67-216">Billing administrator</span></span>
- <span data-ttu-id="c4c67-217">Administrador de usuarios</span><span class="sxs-lookup"><span data-stu-id="c4c67-217">User administrator</span></span>

<span data-ttu-id="c4c67-218">Tras la habilitación de la directiva Requerir MFA a los administradores los nueve roles de administrador anteriores tendrán que registrarse en MFA mediante la aplicación de autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-218">Upon enabling the Require MFA for admins policy, the above nine administrator roles will be required to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="c4c67-219">Una vez que se complete el registro de MFA, los administradores deberán realizar la autenticación multifactor cada vez que inicien sesión.</span><span class="sxs-lookup"><span data-stu-id="c4c67-219">Once MFA registration is complete, administrators will need to perform MFA every single time they sign-in.</span></span>

<span data-ttu-id="c4c67-220">Si tu organización tiene estas cuentas en uso en scripts o código, considera la posibilidad de reemplazarlas por [identidades administradas](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).</span><span class="sxs-lookup"><span data-stu-id="c4c67-220">If your organization has these accounts in use in scripts or code, consider replacing them with [managed identities](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).</span></span>

<span data-ttu-id="c4c67-221">Para habilitar esta directiva y proteger a los administradores:</span><span class="sxs-lookup"><span data-stu-id="c4c67-221">To enable this policy and protect your administrators:</span></span>

1. <span data-ttu-id="c4c67-222">Inicia sesión en **Azure Portal**como administrador global, administrador de seguridad o administrador de acceso condicional.</span><span class="sxs-lookup"><span data-stu-id="c4c67-222">Sign in to the **Azure portal** as a Global Administrator, Security Administrator, or Conditional Access Administrator.</span></span>
2. <span data-ttu-id="c4c67-223">Vaya a **Azure Active Directory** > **Acceso condicional**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-223">Browse to **Azure Active Directory** > **Conditional Access**.</span></span>
3. <span data-ttu-id="c4c67-224">En la lista de directivas, selecciona **Directiva de línea de base: Requerir MFA a los administradores**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-224">In the list of policies, select **Baseline policy: Require MFA for admins**.</span></span>
4. <span data-ttu-id="c4c67-225">En **Habilitar directiva**, selecciona **Usar la directiva inmediatamente**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-225">Set **Enable policy** to **Use policy immediately**.</span></span>
5. <span data-ttu-id="c4c67-226">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-226">Click **Save**.</span></span>

> [!WARNING]
> <span data-ttu-id="c4c67-227">Antes de habilitar esta directiva, asegúrese de que los usuarios no usan protocolos de autenticación heredados.</span><span class="sxs-lookup"><span data-stu-id="c4c67-227">Before you enable this policy, make sure your users are not using legacy authentication protocols.</span></span> <span data-ttu-id="c4c67-228">Mediante la implementación de esta directiva se bloqueará la autenticación heredada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-228">Through the implementation of this policy legacy authentication will be blocked.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c4c67-229">Existe un problema conocido que afecta a la capacidad para conectarse a Exchange Online PowerShell mediante privilegios administrativos delegados.</span><span class="sxs-lookup"><span data-stu-id="c4c67-229">There is a known issue, that impacts your ability to connect to Exchange Online PowerShell using delegated administrative privileges.</span></span> <span data-ttu-id="c4c67-230">Si usa esta módulo de PowerShell, vea el problema conocido de[Exchange Online PowerShell](#exchange-online-powershell) antes de habilitar esta directiva.</span><span class="sxs-lookup"><span data-stu-id="c4c67-230">See the [Exchange Online PowerShell](#exchange-online-powershell) known issue prior to enabling this policy if you using this PowerShell module.</span></span>

#### <a name="end-user-protection"></a><span data-ttu-id="c4c67-231">End user protection (Protección del usuario final)</span><span class="sxs-lookup"><span data-stu-id="c4c67-231">End user protection</span></span>

<span data-ttu-id="c4c67-232">La directiva de línea de base End user protection (Protección del usuario final) protege a todos los usuarios de un directorio.</span><span class="sxs-lookup"><span data-stu-id="c4c67-232">The End user protection baseline policy protects all users in a directory.</span></span> <span data-ttu-id="c4c67-233">La habilitación de esta directiva requiere que todos los usuarios se registren para Azure MFA en un plazo máximo de 14 días.</span><span class="sxs-lookup"><span data-stu-id="c4c67-233">Enabling this policy requires all users to register for Azure MFA within 14 days.</span></span> <span data-ttu-id="c4c67-234">Tras el registro solo se solicitará a los usuarios la MFA en los intentos de inicio de sesión peligrosos.</span><span class="sxs-lookup"><span data-stu-id="c4c67-234">Once registered, users will be prompted for MFA only during risky sign-in attempts.</span></span> <span data-ttu-id="c4c67-235">Las cuentas de usuario en peligro se bloquean hasta que se restablece la contraseña y el riesgo desaparece.</span><span class="sxs-lookup"><span data-stu-id="c4c67-235">Compromised user accounts are blocked until password reset and risk dismissal.</span></span>

<span data-ttu-id="c4c67-236">La directiva **Directiva de línea de base: End user protection (Protección del usuario final)** viene preconfigurada y se mostrará en la parte superior al desplazarse a la hoja Acceso condicional en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="c4c67-236">The policy **Baseline policy: End user protection** comes pre-configured and will show up at the top when you navigate to the Conditional Access blade in Azure portal.</span></span>

<span data-ttu-id="c4c67-237">Para habilitar esta directiva y proteger a los usuarios:</span><span class="sxs-lookup"><span data-stu-id="c4c67-237">To enable this policy and protect your users:</span></span>

1. <span data-ttu-id="c4c67-238">Inicia sesión en **Azure Portal**como administrador global, administrador de seguridad o administrador de acceso condicional.</span><span class="sxs-lookup"><span data-stu-id="c4c67-238">Sign in to the **Azure portal** as a Global Administrator, Security Administrator, or Conditional Access Administrator.</span></span>
2. <span data-ttu-id="c4c67-239">Vaya a **Azure Active Directory** > **Acceso condicional**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-239">Browse to **Azure Active Directory** > **Conditional Access**.</span></span>
3. <span data-ttu-id="c4c67-240">En la lista de directivas, selecciona **Directiva de línea de base: End user protection (preview) [Protección del usuario final (versión preliminar)]** .</span><span class="sxs-lookup"><span data-stu-id="c4c67-240">In the list of policies, select **Baseline policy: End user protection (preview)**.</span></span>
4. <span data-ttu-id="c4c67-241">En **Habilitar directiva**, selecciona **Usar la directiva inmediatamente**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-241">Set **Enable policy** to **Use policy immediately**.</span></span>
5. <span data-ttu-id="c4c67-242">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c4c67-242">Click **Save**.</span></span>

> [!WARNING]
> <span data-ttu-id="c4c67-243">Antes de habilitar esta directiva, asegúrese de que los usuarios no usan protocolos de autenticación heredados.</span><span class="sxs-lookup"><span data-stu-id="c4c67-243">Before you enable this policy, make sure your users are not using legacy authentication protocols.</span></span> <span data-ttu-id="c4c67-244">Mediante la implementación de esta directiva se bloqueará la autenticación heredada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-244">Through the implementation of this policy legacy authentication will be blocked.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c4c67-245">Existe un problema conocido que afecta a la capacidad para conectarse a Exchange Online PowerShell mediante privilegios administrativos delegados.</span><span class="sxs-lookup"><span data-stu-id="c4c67-245">There is a known issues, that impacts your ability to connect to Exchange Online PowerShell using delegated administrative privileges.</span></span> <span data-ttu-id="c4c67-246">Si usa esta módulo de PowerShell, vea el problema conocido de[Exchange Online PowerShell](#exchange-online-powershell) antes de habilitar esta directiva.</span><span class="sxs-lookup"><span data-stu-id="c4c67-246">See the [Exchange Online PowerShell](#exchange-online-powershell) known issue prior to enabling this policy if you using this PowerShell module.</span></span>

## <a name="assessing-your-environment"></a><span data-ttu-id="c4c67-247">Evaluación del entorno</span><span class="sxs-lookup"><span data-stu-id="c4c67-247">Assessing your environment</span></span>

<span data-ttu-id="c4c67-248">Mediante uno de los requisitos de seguridad de partner actuales se obliga a aplicar MFA a todos los usuarios del inquilino del partner.</span><span class="sxs-lookup"><span data-stu-id="c4c67-248">Through one of the current partner security requirements, you are required to have MFA enforced for each user in your partner tenant.</span></span> <span data-ttu-id="c4c67-249">Dado que este requisito se puede cumplir mediante varios métodos diferentes, puede resultar difícil de evaluar si se requieren acciones adicionales.</span><span class="sxs-lookup"><span data-stu-id="c4c67-249">Since this requirement can be fulfilled through a number of different methods it can prove difficult to assess if any additional actions are required.</span></span> <span data-ttu-id="c4c67-250">Puedes aprovechar herramientas como los registros de auditoría de Azure Active Directory y [Microsoft Secure Score](https://docs.microsoft.com/office365/securitycompliance/microsoft-secure-score) para evaluar si se requieren más acciones adicional para proteger el inquilino con la autenticación multifactor.</span><span class="sxs-lookup"><span data-stu-id="c4c67-250">You can leverage tools like the Azure Active Directory audit logs and [Microsoft Secure Score](https://docs.microsoft.com/office365/securitycompliance/microsoft-secure-score) to evaluate if any additional actions are required to secure your tenant with the MFA.</span></span> <span data-ttu-id="c4c67-251">Microsoft está trabajando en una experiencia en el Centro de partners para proporcionar una comprobación rápida del cumplimiento de los requisitos de MFA y del modelo de aplicaciones seguras.</span><span class="sxs-lookup"><span data-stu-id="c4c67-251">Microsoft is working on an experience in Partner Center to provide a quick compliance check on the MFA and the Secure Application Model requirements.</span></span>

<span data-ttu-id="c4c67-252">Microsoft Secure Score ofrece visualizaciones sólidas, integración con otros productos de Microsoft, comparación de la puntuación con la de otras empresas, filtrado por categoría y mucho más.</span><span class="sxs-lookup"><span data-stu-id="c4c67-252">Microsoft Secure Score gives you robust visualizations, integration with other Microsoft products, comparison of your score with other companies, filtering by category, and much more.</span></span> <span data-ttu-id="c4c67-253">Con esta herramienta, puedes completar las acciones de mejora de la seguridad dentro de la organización y realizar un seguimiento del historial de la puntuación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-253">With this tool, you can complete security improvement actions within your organization and track the history of your score.</span></span> <span data-ttu-id="c4c67-254">La puntuación también puede reflejar si las soluciones de terceros han realizado las acciones de mejora recomendadas.</span><span class="sxs-lookup"><span data-stu-id="c4c67-254">The score can also reflect when third-party solutions have addressed recommended improvement actions.</span></span>

![Microsoft Secure Score](images/security/secure-score.png)

> [!NOTE]
> <span data-ttu-id="c4c67-256">Las acciones que puedes llevar a cabo para mejorar Microsoft Secure Score pueden tardar hasta 24 horas en reflejarse.</span><span class="sxs-lookup"><span data-stu-id="c4c67-256">Actions you can take to improve your Microsoft Secure Score may take up to 24 hours to be reflected.</span></span>

<span data-ttu-id="c4c67-257">Microsoft Secure Score solo proporcionará una representación numérica de la postura de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c4c67-257">Microsoft Secure Score will only provide a numerical representation of your security posture.</span></span> <span data-ttu-id="c4c67-258">Para saber mejor qué o quién realiza la autenticación sin que sea un desafío para MFA, se recomienda consultar los registros de auditoría de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c4c67-258">To better understand what or who is authenticating without being challenged for MFA, it is recommended to query the Azure Active Directory audit logs.</span></span> <span data-ttu-id="c4c67-259">Esto puede realizarse mediante el módulo [ Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview) y el siguiente script.</span><span class="sxs-lookup"><span data-stu-id="c4c67-259">This can be accomplished using the [Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview) module and the script below.</span></span> <span data-ttu-id="c4c67-260">Se generará un informe que proporciona información acerca de los intentos de autenticación que se han producido durante el último día en los que no se ha usado MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-260">It will generate a report that provides insight into what authentication attempts have occurred over the past day that were not challenged for MFA.</span></span>

```powershell
Login-AzAccount
$context = Get-AzContext

function Get-SignInEvents
{
    param([string]$userId)

    $content = '{"startDateTime":"' + (Get-Date).AddDays(-1).ToUniversalTime().ToString("yyyy-MM-ddT05:00:00.000Z") + '","endDateTime":"' + (Get-Date).ToUniversalTime().ToString("yyyy-MM-ddTHH:mm:ss.fffZ")  + '","userId":"' + $userId +'","riskState":[],"totalRisk":[],"realtimeRisk":[],"tokenIssuerType":[],"isAdfsEnabled":false}'

    $token = [Microsoft.Azure.Commands.Common.Authentication.AzureSession]::Instance.AuthenticationFactory.Authenticate($context.Account, $context.Environment, $context.Tenant.Id, $null, "Never", $null, "74658136-14ec-4630-ad9b-26e160ff0fc6")

    $headers = @{
    'Authorization' = 'Bearer ' + $token.AccessToken
    'Content-Type' = 'application/json'
        'X-Requested-With'= 'XMLHttpRequest'
        'x-ms-client-request-id'= [guid]::NewGuid()
        'x-ms-correlation-id' = [guid]::NewGuid()
    }

    Invoke-RestMethod -Body $content -Header $headers -Method POST -Uri "https://main.iam.ad.ext.azure.com/api/Reports/SignInEventsV3"
}

$report = $()

Get-AzADUser | foreach {
    $events = Get-SignInEvents $_.Id
    $report += $events.Items
}

$report | Where-Object {$_.mfaRequired -eq $false} | Select-Object userPrincipalName, userDisplayName, createdDateTime, resourceDisplayName, loginSucceeded, failureReason, mfaRequired, mfaAuthMethod, mfaAuthDetail, mfaResult, @{Name='policies'; Expression={[string]::join(',', $($_.conditionalAccessPolicies | Select-Object displayName).displayName )}}, conditionalAccessStatus | Export-Csv report.csv
```

<span data-ttu-id="c4c67-261">Después de ejecutar el script anterior, los detalles estarán disponibles en el archivo report. csv.</span><span class="sxs-lookup"><span data-stu-id="c4c67-261">After running the above script, the details will be available in the report.csv file.</span></span> <span data-ttu-id="c4c67-262">Contendrá una lista de los intentos de autenticación que se han producido a lo largo del día anterior en el que el usuario no usó MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-262">It will contain a list of authentication attempts that have occurred over the last day where the user was not challenged for MFA.</span></span> <span data-ttu-id="c4c67-263">Tendrás que revisar cada entrada para determinar si es el comportamiento esperado y actuar, en caso de que sea necesario.</span><span class="sxs-lookup"><span data-stu-id="c4c67-263">You will need to review each entry to determine if this is the expected behavior and act if necessary.</span></span>

![Informe de evaluación](images/security/assessment-report.png)

## <a name="common-issues"></a><span data-ttu-id="c4c67-265">Problemas comunes</span><span class="sxs-lookup"><span data-stu-id="c4c67-265">Common issues</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="c4c67-266">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c4c67-266">Azure Active Directory</span></span>

#### <a name="aadsts50076"></a><span data-ttu-id="c4c67-267">AADSTS50076</span><span class="sxs-lookup"><span data-stu-id="c4c67-267">AADSTS50076</span></span>

<span data-ttu-id="c4c67-268">Después de habilitar las directivas de línea de base, es posible que la automatización o la integración encuentren una excepción como la siguiente</span><span class="sxs-lookup"><span data-stu-id="c4c67-268">After enabling the baseline policies, you might find that your automation or integration is encountering an exception like the following</span></span>

    AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'MyApp'.

<span data-ttu-id="c4c67-269">La razón de esta excepción es que la autenticación se va a realizar mediante las credenciales del usuario y que se necesita MFA.</span><span class="sxs-lookup"><span data-stu-id="c4c67-269">The reason for this exception is that you are authenticating using user credentials and MFA is now required.</span></span> <span data-ttu-id="c4c67-270">Para solucionar esta excepción, necesitarás utilizar un token de acceso para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-270">To address this exception, you will need to utilize an access token for authentication.</span></span> <span data-ttu-id="c4c67-271">Para más información, consulta la [guía del modelo de aplicaciones seguras ](http://assetsprod.microsoft.com/secure-application-model-guide.pdf).</span><span class="sxs-lookup"><span data-stu-id="c4c67-271">See the [Secure Application Model guide](http://assetsprod.microsoft.com/secure-application-model-guide.pdf) for more information.</span></span>

>[!IMPORTANT]
><span data-ttu-id="c4c67-272">La mayoría de las API y los módulos de PowerShell modernos admiten la posibilidad de utilizar un token de acceso para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-272">Most modern APIs and PowerShell modules support the ability to utilize an access token for authentication.</span></span> <span data-ttu-id="c4c67-273">Sin embargo, hay algunos que no la admiten.</span><span class="sxs-lookup"><span data-stu-id="c4c67-273">However, there are some that currently do not support this functionality.</span></span> <span data-ttu-id="c4c67-274">Si necesitas ayuda para determinar si la API o el módulo de PowerShell que intenta aprovechar admiten el uso de un token de acceso para la autenticación, publica un mensaje en el [grupo de instrucciones de seguridad del Centro de partners](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance).</span><span class="sxs-lookup"><span data-stu-id="c4c67-274">If you need help determining if the API or PowerShell module you are trying to leverage supports the use of an access token for authentication, then post a message on the [Partner Center Security Guidance Group](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) community.</span></span>

#### <a name="aadsts700082"></a><span data-ttu-id="c4c67-275">AADSTS700082</span><span class="sxs-lookup"><span data-stu-id="c4c67-275">AADSTS700082</span></span>

<span data-ttu-id="c4c67-276">Una vez que hayas implementado el marco del modelo de aplicaciones seguras, es probable que recibas la siguiente excepción 90 días después de generar el token de actualización inicial</span><span class="sxs-lookup"><span data-stu-id="c4c67-276">Once you have implemented the Secure Application Model framework there is a chance you will receive the following exception 90 days after generating the initial refresh token</span></span>

    The refresh token has expired due to inactivity. The token was issued on 2019-01-02T09:19:53.5422744Z and was inactive for 90.00:00:00

<span data-ttu-id="c4c67-277">Con respecto a Azure Active Directory la duración máxima de un token de actualización es de 90 días.</span><span class="sxs-lookup"><span data-stu-id="c4c67-277">With respect to Azure Active Directory the maximum lifetime for a refresh token is 90 days.</span></span> <span data-ttu-id="c4c67-278">Para solucionar este error, debes generar un token de actualización y almacenarlo de forma segura.</span><span class="sxs-lookup"><span data-stu-id="c4c67-278">To address this error, you will need to generate and securely store a new refresh token.</span></span> <span data-ttu-id="c4c67-279">Ten en cuenta que el token de actualización se puede actualizar mediante programación, ya que cada vez que se solicita un token de acceso a Azure Active Directory se devuelve un nuevo token de actualización.</span><span class="sxs-lookup"><span data-stu-id="c4c67-279">Note it is possible to update the refresh token programmatically because with each request to Azure Active Directory for an access token a new refresh token is returned.</span></span> <span data-ttu-id="c4c67-280">Puedes implementar la lógica apropiada para actualizar el token de actualización almacenado de forma segura antes de que expire.</span><span class="sxs-lookup"><span data-stu-id="c4c67-280">You can implement the appropriate logic to update the securely stored refresh token before it expires.</span></span>

<span data-ttu-id="c4c67-281">Para más información, consulta [Vigencia de tokens configurable en Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes).</span><span class="sxs-lookup"><span data-stu-id="c4c67-281">See [Configurable token lifetimes in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes) for more information.</span></span>

### <a name="recovering-compromised-accounts"></a><span data-ttu-id="c4c67-282">Recuperación de cuentas en peligro</span><span class="sxs-lookup"><span data-stu-id="c4c67-282">Recovering compromised accounts</span></span>

<span data-ttu-id="c4c67-283">Para ayudar a proteger a nuestros clientes, el servicio de credenciales filtradas de Microsoft busca pares de nombre de usuario y contraseña disponibles públicamente.</span><span class="sxs-lookup"><span data-stu-id="c4c67-283">To help protect our customers, Microsoft’s leaked credential service finds publicly available username/password pairs.</span></span> <span data-ttu-id="c4c67-284">Si coinciden con las de cualquiera de nuestros usuarios, te ayudaremos a proteger la cuenta de inmediato.</span><span class="sxs-lookup"><span data-stu-id="c4c67-284">If they match one of our users, we help secure that account immediately.</span></span> <span data-ttu-id="c4c67-285">Los usuarios identificados como con una credencial filtrada están en peligro de forma confirmada.</span><span class="sxs-lookup"><span data-stu-id="c4c67-285">Users identified as having a leaked credential are confirmed compromised.</span></span> <span data-ttu-id="c4c67-286">y se les bloqueará el inicio de sesión hasta que se restablezca su contraseña.</span><span class="sxs-lookup"><span data-stu-id="c4c67-286">These users will be blocked from signing in until their password is reset.</span></span>

<span data-ttu-id="c4c67-287">Los usuarios a los que se ha asignado una licencia de Azure AD Premium pueden restaurar el acceso a través del autoservicio de restablecimiento de contraseña (SSPR) si la funcionalidad está habilitada en su directorio.</span><span class="sxs-lookup"><span data-stu-id="c4c67-287">Users assigned an Azure AD Premium license can restore access through self-service password reset (SSPR) if the capability is enabled in their directory.</span></span> <span data-ttu-id="c4c67-288">Los usuarios sin una licencia Premium que no puedan iniciar sesión porque estén bloqueados deben ponerse en contacto con un administrador para restablecer manualmente la contraseña y descartar el evento de riesgo de usuario marcado.</span><span class="sxs-lookup"><span data-stu-id="c4c67-288">Users without a premium license that become blocked must contact an administrator to perform a manual password reset and dismiss the flagged user risk event.</span></span>

#### <a name="steps-to-unblock-a-user"></a><span data-ttu-id="c4c67-289">Pasos para desbloquear a un usuario</span><span class="sxs-lookup"><span data-stu-id="c4c67-289">Steps to unblock a user</span></span>

<span data-ttu-id="c4c67-290">Comprueba que la directiva ha bloqueado al usuario, para lo que debes examinar sus registros de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="c4c67-290">Confirm that the user has been blocked by the policy by examining the user’s sign-in logs.</span></span>

1. <span data-ttu-id="c4c67-291">Es preciso que un administrador inicie sesión en **Azure Portal**  y que vaya a **Azure Active Directory** > **Usuarios**, que haga clic en el nombre del usuario y que vaya a Inicios de sesión.</span><span class="sxs-lookup"><span data-stu-id="c4c67-291">An administrator needs to sign in to the **Azure portal** and navigate to **Azure Active Directory** > **Users** > click on the name of the user and navigate to Sign-ins.</span></span>
2. <span data-ttu-id="c4c67-292">Para iniciar el restablecimiento de la contraseña de un usuario bloqueado, el administrador debe ir a **Azure Active Directory** > **Usuarios marcados en riesgo**</span><span class="sxs-lookup"><span data-stu-id="c4c67-292">To initiate password reset on a blocked user, an administrator needs to navigate to **Azure Active Directory** > **Users flagged for risk**</span></span>
3. <span data-ttu-id="c4c67-293">Haz clic en el usuario cuya cuenta esté bloqueada para ver información acerca de la actividad de inicio de sesión reciente del usuario.</span><span class="sxs-lookup"><span data-stu-id="c4c67-293">Click on the user whose account is blocked to view information about the user’s recent sign-in activity.</span></span>
4. <span data-ttu-id="c4c67-294">Haz clic en Restablecer contraseña para asignar una contraseña temporal, que se debe cambiar en el siguiente inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="c4c67-294">Click Reset Password to assign a temporary password that must be changed upon the next login.</span></span>
5. <span data-ttu-id="c4c67-295">Haz clic en Descartar todos los eventos para restablecer la puntuación de riesgo del usuario.</span><span class="sxs-lookup"><span data-stu-id="c4c67-295">Click Dismiss all events to reset the user’s risk score.</span></span>

<span data-ttu-id="c4c67-296">El usuario ya puede iniciar sesión, restablecer su contraseña y acceder a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c4c67-296">The user can now sign in, reset their password, and access the application.</span></span>

## <a name="known-issues"></a><span data-ttu-id="c4c67-297">Problemas conocidos</span><span class="sxs-lookup"><span data-stu-id="c4c67-297">Known issues</span></span>

### <a name="exchange-online-powershell"></a><span data-ttu-id="c4c67-298">Exchange Online PowerShell</span><span class="sxs-lookup"><span data-stu-id="c4c67-298">Exchange Online PowerShell</span></span>

<span data-ttu-id="c4c67-299">Si se aplica MFA, los partners no podrán utilizar sus privilegios administrativos delegados con Exchange Online PowerShell para realizar acciones en sus clientes.</span><span class="sxs-lookup"><span data-stu-id="c4c67-299">When MFA is enforced partners will not be able to utilize their delegated administrative privileges with Exchange Online PowerShell to perform actions against their customers.</span></span> <span data-ttu-id="c4c67-300">Para más información acerca de esta limitación, consulta [Conexión con Exchange Online PowerShell mediante autenticación multifactor](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/mfa-connect-to-exchange-online-powershell) .</span><span class="sxs-lookup"><span data-stu-id="c4c67-300">See [Connect to Exchange Online PowerShell using multi-factor authentication](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/mfa-connect-to-exchange-online-powershell) for more information regarding this limitation.</span></span>

<span data-ttu-id="c4c67-301">Para solucionar esta limitación, puedes crear una cuenta y no usarla nunca para realizar una autenticación interactiva.</span><span class="sxs-lookup"><span data-stu-id="c4c67-301">You can work around this limitation by creating a new account and never using it to perform an interactive authentication.</span></span> <span data-ttu-id="c4c67-302">Se recomienda aprovechar [Azure AD PowerShell](https://docs.microsoft.com/powershell/module/azuread/) para crear la nueva cuenta y realizar la configuración inicial.</span><span class="sxs-lookup"><span data-stu-id="c4c67-302">It is recommended that you leverage [Azure AD PowerShell](https://docs.microsoft.com/powershell/module/azuread/) to create the new account and perform the initial configuration.</span></span> <span data-ttu-id="c4c67-303">El siguiente código de PowerShell se puede usar para crear y configurar la cuenta</span><span class="sxs-lookup"><span data-stu-id="c4c67-303">The following PowerShell can be used to create and configure the account</span></span>

```powershell
Import-Module AzureAD
Connect-AzureAD

$PasswordProfile = New-Object -TypeName Microsoft.Open.AzureAD.Model.PasswordProfile

$PasswordProfile.Password = "Password"
$PasswordProfile.ForceChangePasswordNextLogin = $false

$user = New-AzureADUser -DisplayName "New User" -PasswordProfile $PasswordProfile -UserPrincipalName "NewUser@contoso.com" -AccountEnabled $true

# Uncomment the following two lines if you want the account to have Admin Agent privileges
# $adminAgentsGroup = Get-AzureADGroup -Filter "DisplayName eq 'AdminAgents'"
# Add-AzureADGroupMember -ObjectId $adminAgentsGroup.ObjectId -RefObjectId $user.ObjectId
```

<span data-ttu-id="c4c67-304">La próxima vez que te conectes a Exchange Online mediante PowerShell usa esta cuenta, ya que funcionará como cabría esperar.</span><span class="sxs-lookup"><span data-stu-id="c4c67-304">Next time you connect to Exchange Online through PowerShell use this account, it will work as expected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c4c67-305">La capacidad de los partners para utilizar sus privilegios administrativos delegados con Exchange Online PowerShell para realizar acciones en sus clientes, cuando se aplique MFA, estará disponible en el futuro.</span><span class="sxs-lookup"><span data-stu-id="c4c67-305">The ability for partners to utilize their delegated administrative privileges with Exchange Online PowerShell to perform actions against their customers, when MFA is enforced, will be available in the future.</span></span> <span data-ttu-id="c4c67-306">Hasta entonces, debes aprovechar esta solución alternativa.</span><span class="sxs-lookup"><span data-stu-id="c4c67-306">Until then you should leverage this work around.</span></span>

## <a name="resources-and-support"></a><span data-ttu-id="c4c67-307">Recursos y soporte técnico</span><span class="sxs-lookup"><span data-stu-id="c4c67-307">Resources and support</span></span>

<span data-ttu-id="c4c67-308">Mediante la [comunidad del grupo de instrucciones de seguridad del Centro de partners](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance), puedes encontrar más recursos y obtener información acerca de próximos eventos, como el horario del soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="c4c67-308">Through the [Partner Center Security Guidance Group community](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) you can will find additional resources and learn about upcoming events such as technical office hours.</span></span> <span data-ttu-id="c4c67-309">Para más información acerca de los requisitos, consulta las [preguntas frecuentes](partner-security-requirements-faq.md).</span><span class="sxs-lookup"><span data-stu-id="c4c67-309">See the [frequently asked questions](partner-security-requirements-faq.md) document to learn more about the requirements.</span></span>
